{"version":3,"sources":["utils/utils.js","components/SideBar.jsx","components/ArticleVoteUpdator.jsx","components/ArticleCard.jsx","components/Pagination.jsx","components/ErrorDisplay.jsx","components/ArticleList.jsx","components/ArticleCommentCard.jsx","components/CommentAdder.jsx","components/Article.jsx","App.js","index.js"],"names":["fetchTopics","lookUp","axios","get","then","topics","data","lookupObj","forEach","row","slug","color","fetchArticles","topic_slug","sort_by","order","pageNumber","params","topic","p","articles","fetchArticleById","article_id","article","fetchCommentsByArticleId","comments","updateVoteById","increment","comment","patch","inc_votes","addCommentById","post","deleteCommentById","comment_id","delete","SideBar","state","isLoading","getTopics","api","setState","this","id","className","style","marginBlockStart","marginBlockEnd","paddingInlineStart","map","key","to","backgroundColor","Component","ArticleVoteUpdator","userVote","handleUpdate","voteDirection","vote","props","APIVote","votes","onClick","icon","faAngleUp","faAngleDown","ArticleCard","title","created_at","author","comment_count","colourLookUpObject","Pagination","handlePageUpdate","page_number","article_limit","scrollTop","window","scrollTo","top","behavior","disabled","faAngleLeft","faAngleRight","ErrorDisplay","err","msg","ArticleList","pageDirection","makeArticleLimit","total_count","Math","ceil","getArticles","catch","console","log","response","prevProps","prevState","currentState","toggleSortBy","faStar","faComment","faChartLine","ArticleCommentCard","body","username","deleteComments","CommentAdder","handleInputChange","event","value","target","handleCommentSubmit","preventDefault","addComments","onSubmit","required","type","onChange","placeholder","Article","articleComments","itemToDelete","findIndex","splice","getArticle","App","getTopicColours","path","default","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.00ef237e.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport const fetchTopics = (lookUp) => {\n  return axios\n    .get(\"https://pinny-news.herokuapp.com/api/topics\")\n    .then(({ data: { topics } }) => {\n      if (lookUp) {\n        const lookupObj = {};\n        topics.forEach((row) => {\n          lookupObj[row.slug] = row.color;\n        });\n        return lookupObj\n      } else\n      return topics;\n    });\n};\n\nexport const fetchArticles = (topic_slug, sort_by, order, pageNumber) => {\n  return axios\n    .get(\"https://pinny-news.herokuapp.com/api/articles\", {\n      params: { topic: topic_slug, sort_by: sort_by, order: order, p:pageNumber },\n\n    })\n    .then(({ data: { articles } }) => {\n      return articles;\n    });\n};\n\nexport const fetchArticleById = (article_id) => {\n  return axios\n    .get(`https://pinny-news.herokuapp.com/api/articles/${article_id}`)\n    .then(({ data: { article } }) => {\n      return article;\n    });\n};\n\nexport const fetchCommentsByArticleId = (article_id, order, sort_by ) => {\n  return axios\n    .get(`https://pinny-news.herokuapp.com/api/articles/${article_id}/comments`, {\n      params: {order: order, sort_by: sort_by}\n    })\n    .then(({ data: { comments } }) => {\n      return comments;\n    });\n};\n\nexport const updateVoteById = (article_id, increment, comment) => {\n  if (comment)  {\n    return axios.patch(\n      `https://pinny-news.herokuapp.com/api/comments/${article_id}`,\n      { inc_votes: increment }\n    );\n  } else \n  return axios.patch(\n    `https://pinny-news.herokuapp.com/api/articles/${article_id}`,\n    { inc_votes: increment }\n  );\n};\n\nexport const addCommentById = (article_id, comment) => {\n  return axios.post(`https://pinny-news.herokuapp.com/api/articles/${article_id}/comments`, comment)\n}\n\nexport const deleteCommentById = (comment_id) => {\n  return axios.delete(`https://pinny-news.herokuapp.com/api/comments/${comment_id}`)\n}","import React, { Component } from \"react\";\nimport { Link } from \"@reach/router\";\nimport * as api from \"../utils/utils\";\n\n\nclass SideBar extends Component {\n  state = {\n    topics: [],\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    this.getTopics();\n  }\n\n  getTopics = () => {\n    api.fetchTopics().then((topics) => {\n      this.setState({ topics, isLoading: false });\n    });\n  };\n\n  render() {\n    if (this.state.isLoading) return <p>Loading...</p>;\n    return (\n      <div>\n        <div id={\"navbar\"}>\n          <h1 className=\"hero-title\">TOPIC TRACKER</h1>\n          <h3>\n            Discover and debate topics from all over the internet. Text only (no\n            images) - the devil is in the detail.\n          </h3>\n          <h2>VIEW ARTICLES BY TOPIC -></h2>\n          <ul className={\"topic---button---wrapper\"} style={{marginBlockStart: '0', marginBlockEnd: '0', paddingInlineStart: '0'}}>\n            {this.state.topics.map(({ slug, color }) => {\n              return (\n                <li key={slug}>\n                  <Link className={\"links\"} to={`/articles/topic/${slug}`}>\n                    <p\n                      style={{ backgroundColor: color, color: \"white\" }}\n                      className={\"navbuttons---topics\"}\n                    >\n                      {slug}\n                    </p>\n                    \n                  </Link>\n                </li>\n              );\n            })}\n          </ul>\n          <Link id={'all--articles--button'} to={\"/articles/\"}>\n            <p>all articles</p>\n          </Link>\n\n\n        </div>\n\n      </div>\n    );\n  }\n}\n\nexport default SideBar;\n","import React, { Component } from \"react\";\nimport * as api from \"../utils/utils\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faAngleDown, faAngleUp } from '@fortawesome/free-solid-svg-icons'\n\nclass ArticleVoteUpdator extends Component {\n  state = {\n    userVote: 0,\n  };\n\n  handleUpdate = (voteDirection) => {\n    this.setState(({ userVote }) => {\n      let vote = 0;\n      // eslint-disable-next-line       \n      if (userVote === 0 && voteDirection === 1 || userVote === -1 && voteDirection === -1) vote = 1;\n      // eslint-disable-next-line   \n      if (userVote === 0 && voteDirection === -1 || userVote === 1 && voteDirection === +1) vote = -1;\n      if (userVote === 1 && voteDirection === -1) vote = -2;\n      if (userVote === -1 && voteDirection === 1) vote = 2;\n      return {\n        userVote: userVote + vote,\n      };\n    });\n    const { id } = this.props;\n    const {comment} = this.props\n    let APIVote = 0;\n    if (this.state.userVote === 0 && voteDirection === 1) APIVote = 1;\n    if (this.state.userVote === 0 && voteDirection === -1) APIVote = -1;\n    if (this.state.userVote === 1 && voteDirection === -1) APIVote = -2;\n    if (this.state.userVote === -1 && voteDirection === 1) APIVote = 2;\n    if (this.state.userVote === 1 && voteDirection === 1) APIVote = -1;\n    if (this.state.userVote === -1 && voteDirection === -1) APIVote = 1;\n    if (comment) {\n      api.updateVoteById(id, APIVote, comment)\n    } else api.updateVoteById(id, APIVote);\n  };\n\n  render() {\n    const { votes } = this.props;\n    const { userVote } = this.state;\n    return (\n      <div className={'vote-div'}>\n        <button onClick={() => this.handleUpdate(+1)} className={this.state.userVote === 1 ? 'button--upvote' : 'button--downvote'} >\n        <FontAwesomeIcon className={'vote-icon'} icon={faAngleUp}/>\n          </button>\n        <button onClick={() => this.handleUpdate(-1)} className={this.state.userVote === -1 ? 'button--upvote' : 'button--downvote'}>\n        <FontAwesomeIcon className={'vote-icon'} icon={faAngleDown}/>\n        </button>\n        <p className={this.state.userVote === 1 || this.state.userVote === -1 ? 'button--upvote--number' : 'button--downvote--number'}>{votes + userVote}</p>\n      </div>\n    );\n  }\n}\n\nexport default ArticleVoteUpdator;\n\n","import React from \"react\";\nimport { Link } from \"@reach/router\";\nimport ArticleVoteUpdator from \"./ArticleVoteUpdator\";\n\nconst ArticleCard = ({\n  article_id,\n  title,\n  created_at,\n  author,\n  topic,\n  comment_count,\n  votes,\n  colourLookUpObject,\n}) => {\n  return (\n    <div className={'article-card'}>\n      <Link\n        className={\"article-card-title\"}\n        to={`/articles/article/${article_id}`}\n      >\n        <h2 className={\"article-card-title\"}>{title}</h2>\n      </Link>\n      <div className={\"article-card-div\"}>\n        <div className={\"article-card-div-left\"}>\n          <p className={\"article-card-date\"}>{created_at}</p>\n          <p className={\"article-card-username\"}>{author}</p>\n          <ArticleVoteUpdator topic={topic} colourLookUpObject={colourLookUpObject} votes={votes} id={article_id} />\n\n          <p className={'article-card-comment'}>comment count: {comment_count}</p>\n\n        </div>\n        <div className={\"article-card-div-right\"}>\n          <p className={'article-card-topic'} style={{ backgroundColor: colourLookUpObject[topic],  }}>\n            {topic}\n          </p>\n\n        </div>\n\n      </div>\n    </div>\n  );\n};\n\nexport default ArticleCard;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleRight, faAngleLeft } from \"@fortawesome/free-solid-svg-icons\";\n\nconst Pagination = ({ handlePageUpdate, page_number, article_limit }) => {\n  const scrollTop = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: \"smooth\",\n    });\n  };\n\n  return (\n    <div className={\"pagination-div\"}>\n      <button\n        className={\"pagination-button\"}\n        disabled={page_number < 2}\n        onClick={() => {\n          handlePageUpdate(-1);\n          scrollTop();\n        }}\n      >\n        <FontAwesomeIcon className={\"vote-icon\"} icon={faAngleLeft} />\n      </button>\n      <p className={\"pagination-number\"}>\n        {page_number} / {article_limit}\n      </p>\n      <button\n        className={\"pagination-button\"}\n        disabled={page_number === article_limit}\n        onClick={() => {\n          handlePageUpdate(+1);\n          scrollTop();\n        }}\n      >\n        <FontAwesomeIcon className={\"vote-icon\"} icon={faAngleRight} />\n      </button>\n    </div>\n  );\n};\n\nexport default Pagination;\n","import React from 'react';\n\nconst ErrorDisplay = ({msg}) => {\n    const err = msg || 'Page not found...'\n    return (\n        <div>\n            <h1>{err}</h1>\n        </div>\n    );\n};\n\nexport default ErrorDisplay;","import React, { Component } from \"react\";\nimport ArticleCard from \"./ArticleCard\";\nimport * as api from \"../utils/utils\";\nimport Pagination from \"./Pagination\";\nimport ErrorDisplay from \"./ErrorDisplay\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChartLine, faComment, faStar } from '@fortawesome/free-solid-svg-icons'\n\nclass ArticleList extends Component {\n  state = {\n    articles: [],\n    isLoading: true,\n    order: \"desc\",\n    sort_by: \"created_at\",\n    page_number: 1,\n    article_limit: null,\n    err: '',\n  };\n\n  componentDidMount() {\n    this.getArticles();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevProps.topic_slug !== this.props.topic_slug ||\n      prevState.order !== this.state.order ||\n      prevState.page_number !== this.state.page_number\n    ) {\n      this.getArticles();\n    }\n    // seperate if() for if topic changes and page number needs to go back to one\n  }\n\n  handlePageUpdate = (pageDirection) => {\n    this.setState(({page_number}) => {\n        return  {\n          page_number: page_number + pageDirection\n        }\n    })\n  }\n\n  makeArticleLimit = (total_count) => {\n    const article_limit = Math.ceil(((total_count / 10) * 10)/10)\n    this.setState({\n       article_limit: article_limit\n     })\n   }\n\n  getArticles = () => {\n    api\n      .fetchArticles(\n        this.props.topic_slug,\n        this.state.sort_by,\n        this.state.order,\n        this.state.page_number\n      )\n      .then((articles) => {\n        const {total_count} = articles[0]\n        this.makeArticleLimit(total_count)\n        this.setState({\n          articles,\n          isLoading: false,\n        })\n      }).catch((err) => {\n        console.log(err.response)\n        this.setState({err: err.response.data.msg, isLoading: false})\n      })\n  };\n\n\n  toggleSortBy(sort_by) {\n    this.setState((currentState) => {\n      return {\n        order: currentState.order === \"desc\" ? \"asc\" : \"desc\",\n        sort_by: sort_by,\n      };\n    });\n  }\n\n    //getTheme () {\n    \n    // }\n\n\n  render() {\n    const {colourLookUpObject} = this.props\n    const {sort_by, order} = this.state\n    if (this.state.isLoading) return <p>Loading...</p>;\n    if (this.state.err) return <ErrorDisplay msg={this.state.err}/>\n\n    return (\n      <div className={'right-column'}>\n        <div className={'sort-button-div'}>\n\n        <button className={sort_by === 'created_at' ? \"sort-button-selected\" : 'sort-button-deselected'} onClick={() => this.toggleSortBy(\"created_at\")}>\n        <FontAwesomeIcon className={sort_by === 'created_at' ? \"sort-icon-show\" : 'sort-icon-hide '} icon={faStar}/> <p className={order === 'asc' && sort_by === 'created_at'  ? 'icon-hide-text' : 'icon-show-text'}> New</p> <p className={order === 'asc' && sort_by === 'created_at' ? 'icon-show-text' : 'icon-hide-text'}> Old</p> \n        </button>\n\n        <button className={sort_by === 'comment_count' ? \"sort-button-selected\" : 'sort-button-deselected'} onClick={() => this.toggleSortBy(\"comment_count\")}>\n        <FontAwesomeIcon className={sort_by === 'comment_count' ? \"sort-icon-show\" : 'sort-icon-hide '} icon={faComment}/> <p className={order === 'asc' && sort_by === 'comment_count'  ? 'icon-hide-text' : 'icon-show-text'}> Most Comments</p> <p className={order === 'asc' && sort_by === 'comment_count' ? 'icon-show-text' : 'icon-hide-text'}> Least Comments</p> \n        </button>\n\n                <button className={sort_by === 'votes' ? \"sort-button-selected\" : 'sort-button-deselected'} onClick={() => this.toggleSortBy(\"votes\")}>\n        <FontAwesomeIcon className={sort_by === 'votes' ? \"sort-icon-show\" : 'sort-icon-hide '} icon={faChartLine}/> <p className={order === 'asc' && sort_by === 'votes'  ? 'icon-hide-text' : 'icon-show-text'}> Most Votes</p> <p className={order === 'asc' && sort_by === 'votes' ? 'icon-show-text' : 'icon-hide-text'}> Least Votes</p> \n        </button>\n\n        </div>\n        <ul>\n          {this.state.articles.map((article) => {\n            return (\n              <li key={article.article_id}>\n                <ArticleCard {...article} colourLookUpObject={colourLookUpObject} />\n              </li>\n            );\n          })}\n        </ul>\n        <Pagination page_number={this.state.page_number} handlePageUpdate={this.handlePageUpdate} article_limit={this.state.article_limit}/>\n      </div>\n    );\n  }\n}\n\n\n\nexport default ArticleList;\n","import React from \"react\";\nimport ArticleVoteUpdator from \"./ArticleVoteUpdator\";\n\n\nconst ArticleCommentCard = (props) => {\n  \n  return (\n    <div>\n      <p>{props.author}</p>\n      <p>{props.body}</p>\n      <p>{props.created_at}</p>\n      <ArticleVoteUpdator votes={props.votes} id={props.comment_id} comment={'comment'}/>\n      {props.username === props.author && <button onClick={() => {props.deleteComments(props.comment_id)}}>delete</button>}\n    </div>\n  );\n};\n\nexport default ArticleCommentCard;\n","import React, { Component } from 'react';\nimport * as api from \"../utils/utils\";\n\nclass CommentAdder extends Component {\n\n    state = {\n        comment: ''\n    }\n\n    handleInputChange = (event) => {\n        const {value} = event.target\n        this.setState({ comment: value })\n    }\n\n    handleCommentSubmit = (event) => {\n        console.log(this.props)\n        event.preventDefault();\n        const {article_id, username} = this.props\n        const comment = {\n            username: username,\n            body: this.state.comment\n        }\n        api.addCommentById(article_id, comment).then(({data}) => {\n            this.props.addComments(data)\n        })\n        this.setState({comment: ''})\n    }\n\n    render() {\n        return (\n            <div>\n                <form className={'comment-form'} onSubmit={this.handleCommentSubmit}>\n                    <input required type=\"text\" onChange={this.handleInputChange} placeholder=\"Add a comment...\" value={this.state.comment}/>\n                    <button>add comment</button>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default CommentAdder;","import React, { Component } from \"react\";\nimport ArticleCommentCard from \"./ArticleCommentCard\";\nimport * as api from \"../utils/utils\";\nimport CommentAdder from \"./CommentAdder\";\nimport ArticleVoteUpdator from \"./ArticleVoteUpdator\";\nimport ErrorDisplay from \"./ErrorDisplay\";\n\nclass Article extends Component {\n  state = {\n    article: {},\n    isLoading: true,\n    articleComments: [],\n    err: \"\",\n    order: \"desc\",\n    sort_by: \"created_at\",\n  };\n\n  addComments = ({ comment }) => {\n    this.setState((currentState) => {\n      return {\n        articleComments: [comment, ...currentState.articleComments],\n      };\n    });\n  };\n\n  deleteComments = (comment_id) => {\n    api.deleteCommentById(comment_id);\n    this.setState((currentState) => {\n      const itemToDelete = currentState.articleComments.findIndex(\n        (comment) => comment.comment_id === comment_id\n      );\n      currentState.articleComments.splice(itemToDelete, 1);\n      return {\n        articleComments: currentState.articleComments,\n      };\n    });\n  };\n\n  componentDidMount() {\n    this.getArticle();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.order !== this.state.order) {\n      this.getArticle();\n    }\n  }\n\n  getArticle = () => {\n    const { article_id } = this.props;\n    const { order, sort_by } = this.state;\n    api\n      .fetchArticleById(article_id)\n      .then((article) => {\n        this.setState({ article });\n      })\n      .catch((err) => {\n        this.setState({ err: err.response.data.msg, isLoading: false });\n      });\n    api\n      .fetchCommentsByArticleId(article_id, order, sort_by)\n      .then((comments) => {\n        this.setState({ articleComments: comments, isLoading: false });\n      })\n      .catch((err) => {\n        this.setState({ err: err.response.data.msg, isLoading: false });\n      });\n  };\n\n  toggleSortBy(sort_by) {\n    this.setState((currentState) => {\n      return {\n        order: currentState.order === \"desc\" ? \"asc\" : \"desc\",\n        sort_by: sort_by,\n      };\n    });\n  }\n\n  render() {\n    if (this.state.isLoading) return <p>Loading...</p>;\n    if (this.state.err) return <ErrorDisplay msg={this.state.err} />;\n    const { colourLookUpObject } = this.props;\n    const {\n      article_id,\n      topic,\n      title,\n      body,\n      created_at,\n      author,\n      votes,\n    } = this.state.article;\n    console.log(colourLookUpObject);\n    return (\n      <div className={\"article-div\"}>\n        <div>\n          <div className={\"article-topic-div\"}>\n            <p\n              className={\"article-topic\"}\n              style={{ backgroundColor: colourLookUpObject[topic] }}\n            >\n              {topic}\n            </p>\n          </div>\n          <p className={'article-title'}>{title}</p>\n          <p className={'article-date'}>{created_at}</p>\n          <p className={'article-body'}>{body}</p>\n          <p className={'article-card-username'}>{author}</p>\n          <ArticleVoteUpdator votes={votes} id={article_id} />\n        </div>\n        <CommentAdder\n          username={this.props.username}\n          article_id={article_id}\n          addComments={this.addComments}\n        />\n        <button onClick={() => this.toggleSortBy(\"created_at\")}>\n          sort by date\n        </button>\n        <button onClick={() => this.toggleSortBy(\"votes\")}>\n          sort by votes\n        </button>\n        <div>\n          <ul>\n            {this.state.articleComments.map((comment) => {\n              return (\n                <li key={comment.comment_id}>\n                  <ArticleCommentCard\n                    username={this.props.username}\n                    {...comment}\n                    deleteComments={this.deleteComments}\n                  />\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Article;\n","import React, { Component } from \"react\";\nimport { Router } from \"@reach/router\";\nimport \"./App.css\";\nimport SideBar from \"./components/SideBar\";\nimport ArticleList from \"./components/ArticleList\";\nimport Article from \"./components/Article\";\nimport * as api from \"./utils/utils\";\nimport ErrorDisplay from \"./components/ErrorDisplay\";\n\n\nclass App extends Component {\n  state = {\n    username: \"happyamy2016\",\n    colourLookUpObject: {},\n  }; \n\ncomponentDidMount() {\n  this.getTopicColours()\n}\n\ngetTopicColours = () => {\n  api.fetchTopics('lookUp').then((lookUp) => {\n      this.setState({colourLookUpObject: lookUp})\n    })\n}\n\n  render() {\n    return (\n      <>\n        <div id='hero--div'>\n          <div id='hero--container--1'>\n            <SideBar />\n          </div>\n          <div id='hero--container--2'>\n            <Router>\n              <ArticleList colourLookUpObject={this.state.colourLookUpObject} path='/'/>\n              <ArticleList colourLookUpObject={this.state.colourLookUpObject} path='/articles'/>\n              <ArticleList colourLookUpObject={this.state.colourLookUpObject} path='/articles/topic/:topic_slug'/>\n              <Article username={this.state.username} colourLookUpObject={this.state.colourLookUpObject} path='/articles/article/:article_id'/>\n              <ErrorDisplay default/>\n            </Router>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}